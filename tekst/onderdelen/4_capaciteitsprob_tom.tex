% De verschillende secties moeten mooi overgaan in elkaar.
% Hiervoor gebruik je bindteksten. Deze tekstjes zijn typisch de eerste
% paragrafen van de verschillende (sub)secties en leggen uit wat de
% bedoeling van de sectie is, en eventueel hoe dat relateert aan
% de vorige sectie of hoe het past in het grotere geheel.

\section{Capaciteitsproblemen bij overbevraging online diensten}

Deze sectie gaat in op het technische aspect van de problemen bij Ticketmaster,
door capaciteitstekort en oplossingen daarvoor te bespreken. Aangezien dit
een algemene IT-problematiek is, die zich voordoet in andere bedrijven en
sectoren \cite{warren2023chatgpt, warren2020discord, reuters2023what},
wordt dit algemeen behandeld. 

Om een online dienst of website te gebruiken, moeten gebruikers de
server(s) van die dienst of website bereiken. In die context is er sprake van
capaciteitstekort wanneer de serverinfrastructuur onvoldoende systeemresources
heeft om alle inkomende verzoeken van gebruikers af te handelen.
Dat kan ertoe leiden dat systemen trager zijn (bv. lange laattijd website),
slecht functioneren (bv. slechte weergave van site/applicatie) of
helemaal niet meer werken (bv. foutmeldingen zoals HTTP-statuscode
503)\footnote{"503 Service Unavailable" \cite{fielding2022http}}
\cite{guitart2010survey, guitart2007designing}.
Het probleem kan zich continu voordoen, wanneer de infrastructuur onvoldoende
is om aan de normale vraag tegemoet te komen,
of van tijdelijke aard zijn, wanneer belastingspieken niet kunnen worden
opgevangen \cite{schroeder2006web}. Pieken kunnen veroorzaakt worden
door verschillende soorten verzoeken:
normale (bv. Black Friday-toeloop \cite{iyer2001overload}),
onwenselijke (bv. web scraping \cite{thelwall2006web}) of
malafide (bv. cyberaanval \cite{loukas2009protection}).

Verschillende technieken kunnen capaciteitsproblemen verminderen of
verhelpen. Hieronder worden de voornaamste vermeld (niet-exhaustief):

\begin{description}
    \item [Verticaal opschalen:] opwaarderen (beschikbare)
    systeemresources huidige server(s) of virtuele machine(s)
    (bv. geheugen, processors en bandbreedte)
    \cite{lu2014applicationdriven, michael2007scaleup, appuswamy2013scaleup}

    \item [Horizontaal opschalen:] voorzien meerdere servers of virtuele
    machines, waarover verzoeken worden verdeeld
    \cite{lu2014applicationdriven, michael2007scaleup}

    \item [Prestaties evalueren en simuleren:] (toekomstige) noden infrastructuur
    inschatten door evalueren prestaties infrastructuur, inclusief
    stress testen prestaties bij gesimuleerde, zelf gegenereerde
    werklasten 

    \item [Cachen:] kan laattijden verminderen.
    % Notitie:
    % Zie bron AWS over caching.
    % Zorgt ervoor dat toekomstige verzoeken voor bepaalde data, sneller kunnen
    % worden behandeld, doordat high-speed cache wordt geraadpleegd (gebruik
    % van fast access hardware zoals RAM) in plaats van de primaire opslag
    % van de server(s). Idee van hoge IOPS. 
    % Gaat daarbij om subset data die vaak nodig is /
    % geraadpleegd wordt. Als je cache niet implenteert zou je volledige
    % database op de standaard hardware moeten opschalen, wat meer kost dan
    % efficiënte caching. De cache vermindert de load op de backend door
    % ze te verplaatsen naar de cache, die sneller is.
    % Cached data kan volgende zijn: resultaten database queries, intensieve
    % berekeningen, API requests/responses, web artefacten (HTML, js,
    % afbeeldingen). Best focust op belangrijkste subset bv. indien ticket
    % voor bepaalde artiest populair, dan vooral die data cachen.
    % Van belang hier is server-side caching. Zaken zoals web proxy, https
    % hedaders, web accelartors, stored key/value pairs, database buffers.

    \item [Optimaliseren broncode:] optimaliseren van de code van de software
    vermindert de systeemresources die de servers beschikbaar moeten hebben

    \item [Optimaliseren software-architectuur en -ontwerp:] vereenvoudigen van
    opschaling door gebruik van flexibileren architecturen en ontwerpen 
    (bv. micro-services)
    % Notitie:
    % Zie bron AWS over microservices.
    % Benadering waarbij software bestaat uit kleine onafhankelijke services
    % die communiceren via APIs. Opschalen wordt makkelijker in vergelijking
    % met monolitsche architectuur. Als één proces met hoge traffiek wordt
    % geconfonrteerd dan kan enkel dat worden opgeschaald. Zorgt voor
    % lagere kost.
\end{description}

Specifiek voor horizontaal schalen, is de manier van implementatie van groot
belangen. Ook hier kunnen bepaalde technieken helpen:

\begin{description}
    \item [Geografisch distribueren:] horizontaal opschalen
    waarbij gewerkt wordt met geografisch verspreidde servers
    zodat gebruikers dichtsbijzijnde server voor hun locatie kunnen gebruiken
    met oog op snellere connectie

    \item [Kwalitatief load balancen:] optimaliseren van de algoritmen die
    de verzoeken over de verschillende servers verdelen
    % Notitie:
    % Zie bron AWS "What is load balancing?"
    % Load balancer draait op een server / is een server.
    % Zit tussen gebruiker en groep servers. als faciitator.
    % Kan traffiek leiden/verdeln en herleiden.
    % Bij serverproblemen, kan balancer herleiden naar beschikbare servers.
    % Los van problemen, leidt balancer het verkeer,
    % waarbij het bottlenecks voorkomt.
    % Kan ook DDoS-aanvallen tegengaan, door veiligheidsmaatregelen te
    % te implementeren (op niveau load balancer dus). Het kan traffiek
    % daarbij blokkeren of intelligent herleiden.
    % Bij geografische distributie zorgt de load balancer er ook voor
    % dat de dichtsbijzijnde server wordt gekozen.
    % Belang van goed load balancingalgoritme (regels die de balancer hanteert)
    % voor managen van de trafiek. Algortime kan statisch zijn, waarbij
    % het vaste regels volgt (bv. simpele rotatie). Het kan ook dynamisch zijn,
    % waarbij het rekening houdt met status van de severs
    % (bv. herleiden naar server die minst wordt gebruikt)

    \item [Automatiseren infrastructuurbeheer en goed monitoren:] vergroten
    flexibiliteit en reactiviteit door automatiseren van opschaling en
    configuratie infrastructuur en door extensieve monitoring van belasting
    % Notitie: Staat doorgaans centraal in DevOps.
    % Zie bron Microsoft Azure.
    % Configuratiebeheer, gebruik van hulpprogramma's of IaC
    % om van configuratie sjablonen te maken zodat configuratie
    % kan worden geautomatiseerd en complexe omgeving makkelijk kan worden
    % opgeschaald (systeemresources definiëren in code om snel, herhaalbaar en
    % controleerbaar te implementeren zonder menselijke fouten. Ook idee
    % bewakingm waarbij men focust op real-time zichtbaarheid prestaties en
    % status infrastructuur (telemetrie. metadata en automatische meldingen
    % voor operatoren).
    
    \item [Gebruikken cloudproviders:] (automatisch) opschalen vereenvoudigen
    door gebruiken van cloudinfrastructuur.
    % Notitie: Staat doorgaans ook centraal in DevOps.
    % Zie opnieuwe bron Microsoft Azure.  
    % Cloud biedt flexibiliteit waarbij je snel omgevingen in verschillende
    % geografische locaties kunt opstarten, configureren en weer afsluiten
    % afhankelijk van noden.
\end{description}


% TODO: Misschien nog behandelen: welke technieken gebruikt Ticketmaster al?
% TODO: Referenties
% TODO: Toevoegen prioritiseren van bepaalde requests als techniek
% Gaat volgende tegen: Clients can experience outages. Even though,
% there may be enough capacity to deliver all responses for subset of clients,
% all clients normally experience some issues.
% TODO: Vermelden dat we specifiek focussen op wat bedrijven zelf kunnen doen.
% Want ook fundamenteler kan er op besturingssysteemniveau iets gedaan worden
% voor betere resource allocation:
% G. Banga, P. Druschel and J.C. Mogul, Resource containers: A new facility for resource management in server systems, in: 3rd Symposium on Operating Systems Design and Implementation, New Orleans, LA, February 1999.
% P. Druschel and Gaurav Banga, Lazy Receiver Processing (LRP): A network subsystem architecture for server systems, in: OSDI '96, Seattle, Washington, October 1996.
% J. Mogul and K.K. Ramakrishnan, Eliminating receive livelock in an interrupt-driven kernel, in: USENIX '96, San Diego, CA, January 1996.